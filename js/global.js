/*
* 2007-2016 PrestaShop
*
* NOTICE OF LICENSE
*
* This source file is subject to the Academic Free License (AFL 3.0)
* that is bundled with this package in the file LICENSE.txt.
* It is also available through the world-wide-web at this URL:
* http://opensource.org/licenses/afl-3.0.php
* If you did not receive a copy of the license and are unable to
* obtain it through the world-wide-web, please send an email
* to license@prestashop.com so we can send you a copy immediately.
*
* DISCLAIMER
*
* Do not edit or add to this file if you wish to upgrade PrestaShop to newer
* versions in the future. If you wish to customize PrestaShop for your
* needs please refer to http://www.prestashop.com for more information.
*
*  @author PrestaShop SA <contact@prestashop.com>
*  @copyright  2007-2016 PrestaShop SA
*  @license    http://opensource.org/licenses/afl-3.0.php  Academic Free License (AFL 3.0)
*  International Registered Trademark & Property of PrestaShop SA
*/
var responsiveflag=!1,isMobileScreen=window.innerWidth<=768;function mmenu(e){isMobileScreen&&$(".mobile-drop-block").hide(),$("#layer_cart").hide();var t=$(e).hasClass("opened");if($(".nav-mobile .nav-mobile-item").removeClass("opened"),t)$(".layer_cart_overlay").hide();else{var i=$(e).addClass("opened").data("menu-show");$(i).show();var o=$(e).data("menu-focus");o&&$(o).focus(),$(".layer_cart_overlay").css("width","100%"),$(".layer_cart_overlay").css("height","100%"),$(".layer_cart_overlay").show()}}if("function"!=typeof fbq)var fbq=function(){};function highdpiInit(){if("undefined"!=typeof highDPI&&highDPI&&"1px"==$(".replace-2x").css("font-size"))for(var e=$("img.replace-2x").get(),t=0;t<e.length;t++){src=e[t].src,extension=src.substr(src.lastIndexOf(".")+1),src=src.replace("."+extension,"2x."+extension);var i=new Image;i.src=src,0!=i.height?e[t].src=src:e[t].src=e[t].src}}function scrollCompensate(){var e=document.createElement("p");e.style.width="100%",e.style.height="200px";var t=document.createElement("div");t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.visibility="hidden",t.style.width="200px",t.style.height="150px",t.style.overflow="hidden",t.appendChild(e),document.body.appendChild(t);var i=e.offsetWidth;t.style.overflow="scroll";var o=e.offsetWidth;return i==o&&(o=t.clientWidth),document.body.removeChild(t),i-o}function responsiveResize(){compensante=scrollCompensate(),$(window).width()+scrollCompensate()<=767&&0==responsiveflag?(accordion("enable"),accordionFooter("enable"),responsiveflag=!0):$(window).width()+scrollCompensate()>=768&&(accordion("disable"),accordionFooter("disable"),responsiveflag=!1),blockHover()}function blockHover(e){var t=1170==$("body").find(".container").width();$(".product_list").is(".grid")&&(t?$(".product_list .button-container").hide():$(".product_list .button-container").show()),$(document).off("mouseenter").on("mouseenter",".product_list.grid li.ajax_block_product .product-container",(function(e){if(t){var i=$(this).parent().outerHeight(),o=$(this).parent().find(".button-container").outerHeight()+$(this).parent().find(".comments_note").outerHeight()+$(this).parent().find(".functional-buttons").outerHeight();$(this).parent().addClass("hovered").css({height:i+o,"margin-bottom":-1*o}),$(this).find(".button-container").show()}})),$(document).off("mouseleave").on("mouseleave",".product_list.grid li.ajax_block_product .product-container",(function(e){t&&($(this).parent().removeClass("hovered").css({height:"auto","margin-bottom":"0"}),$(this).find(".button-container").hide())}))}function quick_view(){$(document).on("click",".quick-view:visible, .quick-view-mobile:visible",(function(e){e.preventDefault();var t=this.rel,i="";-1!=t.indexOf("#")&&(i=t.substring(t.indexOf("#"),t.length),t=t.substring(0,t.indexOf("#"))),-1!=t.indexOf("?")?t+="&":t+="?",$.prototype.fancybox&&$.fancybox({padding:0,width:1087,height:610,type:"iframe",href:t+"content_only=1"+i})}))}function bindGrid(){var e=!1;if("undefined"!=typeof getStorageAvailable&&(e=getStorageAvailable()),e){var t=$.totalStorage("display");!t&&"undefined"!=typeof displayList&&displayList&&(t="list"),t&&"grid"!=t?display(t):$(".display").find("li#grid").addClass("selected"),$(document).on("click","#grid",(function(e){e.preventDefault(),display("grid")})),$(document).on("click","#list",(function(e){e.preventDefault(),display("list")}))}}function display(e){"list"==e?($("ul.product_list").removeClass("grid").addClass("list row"),$(".product_list > li").removeClass("col-xs-12 col-sm-6 col-md-3").addClass("col-xs-12"),$(".product_list > li").each((function(e,t){var i="";i='<div class="product-container"><div class="row">',i+='<div class="left-block col-xs-4 col-sm-5 col-md-4">'+$(t).find(".left-block").html()+"</div>",i+='<div class="center-block col-xs-4 col-sm-7 col-md-4">',i+='<div class="product-flags">'+$(t).find(".product-flags").html()+"</div>",i+='<span class="title__h5" itemprop="name">'+$(t).find(".title__h5").html()+"</span>";var o=$(t).find(".hook-reviews");o.length&&(i+=o.clone().wrap("<div>").parent().html()),i+='<p class="product-desc">'+$(t).find(".product-desc").html()+"</p>";var n=$(t).find(".color-list-container").html();null!=n&&(i+='<div class="color-list-container">'+n+"</div>");var l=$(t).find(".availability").html();null!=l&&(i+='<span class="availability">'+l+"</span>"),i+="</div>",i+='<div class="right-block col-xs-4 col-sm-12 col-md-4"><div class="right-block-content row">';var s=$(t).find(".content_price").html();null!=s&&(i+='<div class="content_price col-xs-5 col-md-12">'+s+"</div>"),i+='<div class="button-container col-xs-7 col-md-12">'+$(t).find(".button-container").html()+"</div>",i+='<div class="functional-buttons clearfix col-sm-12">'+$(t).find(".functional-buttons").html()+"</div>",i+="</div>",i+="</div></div>",$(t).html(i)})),$(".display").find("li#list").addClass("selected"),$(".display").find("li#grid").removeAttr("class"),$.totalStorage("display","list")):($("ul.product_list").removeClass("list").addClass("grid row"),$(".product_list > li").removeClass("col-xs-12").addClass("col-xs-12 col-sm-6 col-md-3"),$(".product_list > li").each((function(e,t){var i="";i+='<div class="product-container">',i+='<div class="left-block">'+$(t).find(".left-block").html()+"</div>",i+='<div class="right-block">',i+='<div class="product-flags">'+$(t).find(".product-flags").html()+"</div>",i+='<span class="title__h5" itemprop="name">'+$(t).find(".title__h5").html()+"</span>";var o=$(t).find(".hook-reviews");o.length&&(i+=o.clone().wrap("<div>").parent().html()),i+='<p itemprop="description" class="product-desc">'+$(t).find(".product-desc").html()+"</p>";var n=$(t).find(".content_price").html();null!=n&&(i+='<div class="content_price">'+n+"</div>"),i+='<div itemprop="offers" itemscope itemtype="https://schema.org/Offer" class="button-container">'+$(t).find(".button-container").html()+"</div>";var l=$(t).find(".color-list-container").html();null!=l&&(i+='<div class="color-list-container">'+l+"</div>");var s=$(t).find(".availability").html();null!=s&&(i+='<span class="availability">'+s+"</span>"),i+="</div>",i+='<div class="functional-buttons clearfix">'+$(t).find(".functional-buttons").html()+"</div>",i+="</div>",$(t).html(i)})),$(".display").find("li#grid").addClass("selected"),$(".display").find("li#list").removeAttr("class"),$.totalStorage("display","grid"))}function dropDown(){elementClick="#header .current",elementSlide="ul.toogle_content",activeClass="active",$(elementClick).on("click",(function(e){e.stopPropagation();var t=$(this).next(elementSlide);t.is(":hidden")?(t.slideDown(),$(this).addClass(activeClass)):(t.slideUp(),$(this).removeClass(activeClass)),$(elementClick).not(this).next(elementSlide).slideUp(),$(elementClick).not(this).removeClass(activeClass),e.preventDefault()})),$(elementSlide).on("click",(function(e){e.stopPropagation()})),$(document).on("click",(function(e){e.stopPropagation();var t=$(elementClick).next(elementSlide);$(t).slideUp(),$(elementClick).removeClass("active")}))}function accordionFooter(e){"enable"==e?($("#footer .footer-block h4").on("click",(function(e){$(this).toggleClass("active").parent().find(".toggle-footer").stop().slideToggle("medium"),e.preventDefault()})),$("#footer").addClass("accordion").find(".toggle-footer").slideUp("fast")):($(".footer-block h4").removeClass("active").off().parent().find(".toggle-footer").removeAttr("style").slideDown("fast"),$("#footer").removeClass("accordion"))}function accordion(e){if("enable"==e){$("#right_column .block .title_block, #left_column .block .title_block, #left_column #newsletter_block_left h4,#left_column .shopping_cart > a:first-child, #right_column .shopping_cart > a:first-child").on("click",(function(e){$(this).toggleClass("active").parent().find(".block_content").stop().slideToggle("medium")})),$("#right_column, #left_column").addClass("accordion").find(".block .block_content").slideUp("fast"),"undefined"!=typeof ajaxCart&&ajaxCart.collapse()}else $("#right_column .block .title_block, #left_column .block .title_block, #left_column #newsletter_block_left h4").removeClass("active").off().parent().find(".block_content").removeAttr("style").slideDown("fast"),$("#left_column, #right_column").removeClass("accordion")}$(document).ready((function(){(highdpiInit(),responsiveResize(),$(window).resize(responsiveResize),navigator.userAgent.match(/Android/i))&&(document.querySelector('meta[name="viewport"]').setAttribute("content","initial-scale=1.0,maximum-scale=1.0,user-scalable=0,width=device-width,height=device-height"),window.scrollTo(0,1));"undefined"!=typeof quickView&&quickView&&quick_view(),dropDown(),"undefined"==typeof page_name||in_array(page_name,["index","product"])||(bindGrid(),$(document).on("change",".selectProductSort",(function(e){if("undefined"!=typeof request&&request)var t=request;var i=$(this).val().split(":"),o="";void 0!==t&&t&&(o+=t,void 0!==i[0]&&i[0]&&(o+=(t.indexOf("?")<0?"?":"&")+"orderby="+i[0],void 0!==i[1]&&i[1]&&(o+="&orderway="+i[1])),document.location.href=o)})),$(document).on("change",'select[name="n"]',(function(){$(this.form).submit()})),$(document).on("change",'select[name="currency_payment"]',(function(){setCurrency($(this).val())}))),$(document).on("change",'select[name="manufacturer_list"], select[name="supplier_list"]',(function(){""!=this.value&&(location.href=this.value)})),$(document).on("click",".back",(function(e){e.preventDefault(),history.back()})),jQuery.curCSS=jQuery.css,$.prototype.cluetip&&$("a.cluetip").cluetip({local:!0,cursor:"pointer",dropShadow:!1,dropShadowSteps:0,showTitle:!1,tracking:!0,sticky:!1,mouseOutClose:!0,fx:{open:"fadeIn",openSpeed:"fast"}}).css("opacity",.8),"undefined"!=typeof FancyboxI18nClose&&"undefined"!=typeof FancyboxI18nNext&&"undefined"!=typeof FancyboxI18nPrev&&$.prototype.fancybox&&$.extend($.fancybox.defaults.tpl,{closeBtn:'<a title="'+FancyboxI18nClose+'" class="fancybox-item fancybox-close" href="javascript:;"></a>',next:'<a title="'+FancyboxI18nNext+'" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>',prev:'<a title="'+FancyboxI18nPrev+'" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>'}),$(".alert.alert-danger").on("click",this,(function(e){e.offsetX>=16&&e.offsetX<=39&&e.offsetY>=16&&e.offsetY<=34&&$(this).fadeOut()})),$(".category_footer .show_more_btn").length>0&&$(".show_more_btn").click((function(e){var t=$(this).closest("ul").find("div.others");t.hasClass("hide")?(t.removeClass("hide"),$(this).html("Свернуть...")):(t.addClass("hide"),$(this).html("Еще..."))}));var e=document.getElementById("searchbox");(e&&e.addEventListener("submit",(function(t){t.preventDefault(),ga("send","event","search",$(this).find("#search_query_top").val(),{hitCallback:function(){e.submit()}})})),$("form.contact-form-box").length>0)&&$("form.contact-form-box")[0].addEventListener("submit",(function(e){var t=$(this).find("#email").val(),i=$(this).find("#message").val();t&&window.validateEmail(t)&&i&&ga("send","event","contact_us","success")}));($("form#login_form").length>0&&$("#SubmitLogin").on("click",(function(){var e=$("form#login_form").find("#email").val(),t=$("form#login_form").find("#password").val();e&&window.validateEmail(e)&&t&&ga("send","event","login","success")})),$("form#mail_dispatch").length>0)&&document.getElementById("mail_dispatch").addEventListener("submit",(function(e){var t=$(this).find("#newsletter-input").val();t&&window.validateEmail(t)&&ga("send","event","subscribe","success")}));$("#shopi_product_tab_1").length>0&&$("#shopi_product_tab_1").on("click",(function(){ga("send","event","product_equipment",$("h1.b1c-name").text(),$(".our_price_display").text())})),$(".nav-mobile .nav-mobile-item").on("click",(function(){mmenu(this)})),$(".layer_cart_overlay").on("click",(function(){mmenu(null)})),$(".toppest-nav nav div").clone().appendTo(".extra-menu")})),window.validateEmail=function(e){return/^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/.test(e)};